<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Definition Globalisierung</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: #333;
            background: linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 100%);
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 800'%3E%3Cdefs%3E%3CradialGradient id='globe' cx='50%25' cy='40%25'%3E%3Cstop offset='0%25' style='stop-color:%234a90e2;stop-opacity:1' /%3E%3Cstop offset='70%25' style='stop-color:%232c5aa0;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%231a3a6b;stop-opacity:1' /%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='400' cy='400' r='300' fill='url(%23globe)' opacity='0.3'/%3E%3Cg fill='%2334d399' opacity='0.4'%3E%3Cpath d='M 400 300 Q 420 310 425 340 Q 430 370 420 400 Q 410 430 400 450 Q 390 430 385 400 Q 380 360 390 330 Q 395 310 400 300 Z'/%3E%3Cpath d='M 380 260 Q 390 255 400 260 Q 410 265 415 275 Q 410 285 400 285 Q 390 285 385 280 Q 378 272 380 260 Z'/%3E%3Cpath d='M 430 250 Q 470 260 500 280 Q 520 300 530 330 Q 535 360 525 390 Q 515 410 500 420 Q 480 410 465 395 Q 450 375 445 350 Q 440 320 445 290 Q 440 270 430 250 Z'/%3E%3Cpath d='M 280 250 Q 300 240 320 245 Q 340 255 350 275 Q 355 300 345 325 Q 335 345 320 355 Q 305 350 295 335 Q 285 315 280 290 Q 275 270 280 250 Z'/%3E%3Cpath d='M 320 370 Q 330 365 340 375 Q 345 395 340 420 Q 335 450 325 475 Q 315 485 310 475 Q 305 455 308 430 Q 312 400 315 385 Q 318 375 320 370 Z'/%3E%3Cpath d='M 520 480 Q 540 475 555 485 Q 565 500 560 515 Q 550 525 535 522 Q 520 515 515 500 Q 513 487 520 480 Z'/%3E%3C/g%3E%3Cg stroke='%23ffffff' stroke-width='1' fill='none' opacity='0.15'%3E%3Cellipse cx='400' cy='400' rx='300' ry='300'/%3E%3Cellipse cx='400' cy='400' rx='300' ry='240'/%3E%3Cellipse cx='400' cy='400' rx='300' ry='180'/%3E%3Cellipse cx='400' cy='400' rx='300' ry='120'/%3E%3Cellipse cx='400' cy='400' rx='300' ry='60'/%3E%3Cellipse cx='400' cy='400' rx='240' ry='300'/%3E%3Cellipse cx='400' cy='400' rx='180' ry='300'/%3E%3Cellipse cx='400' cy='400' rx='120' ry='300'/%3E%3Cellipse cx='400' cy='400' rx='60' ry='300'/%3E%3Cline x1='400' y1='100' x2='400' y2='700'/%3E%3Cline x1='100' y1='400' x2='700' y2='400'/%3E%3C/g%3E%3C/svg%3E");
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.15;
            z-index: -1;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 2.5rem;
            color: #1e3a8a;
            margin-bottom: 0.5rem;
        }

        .back-link {
            display: inline-block;
            margin: 1rem 0 0 0;
            color: #0ea5e9;
            text-decoration: none;
            font-weight: bold;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        main {
            flex: 1;
            max-width: 1000px;
            width: 100%;
            margin: 2rem auto;
            padding: 0 1rem 2rem 1rem;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
        }

        .card h2 {
            color: #1e3a8a;
            margin-bottom: 1rem;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 10px;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .question-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
        }

        .question-title {
            color: #1e3a8a;
            font-size: 1.3rem;
            margin-bottom: 1rem;
            font-weight: bold;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .option {
            background: #f3f4f6;
            border: 2px solid #e5e7eb;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            background: #e0f2fe;
            border-color: #0ea5e9;
            transform: translateX(5px);
        }

        .option.selected {
            background: #dbeafe;
            border-color: #3b82f6;
        }

        .option.correct {
            background: #dcfce7;
            border-color: #10b981;
        }

        .option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
        }

        .check-button {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1rem 2rem;
            border-radius: 25px;
            border: none;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            margin-top: 1rem;
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
        }

        .check-button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            font-weight: bold;
        }

        .feedback.correct {
            background: #dcfce7;
            color: #065f46;
        }

        .feedback.incorrect {
            background: #fee2e2;
            color: #991b1b;
        }

        .expandable-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 0;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .expandable-header {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 1.5rem 2rem;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .expandable-header:hover {
            background: linear-gradient(135deg, #d97706, #b45309);
        }

        .expandable-header .arrow {
            font-size: 1.5rem;
            transition: transform 0.3s;
        }

        .expandable-header.open .arrow {
            transform: rotate(180deg);
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }

        .expandable-content.open {
            max-height: 1000px;
            transition: max-height 0.5s ease-in;
        }

        .expandable-inner {
            padding: 2rem;
        }

        .task-box {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            border-left: 4px solid #f59e0b;
        }

        .task-box h3 {
            color: #92400e;
            margin-bottom: 0.75rem;
        }

        .task-box p {
            color: #78350f;
            line-height: 1.6;
        }
        .task-box-blue {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border-left: 4px solid #3b82f6;
        }

        .task-box-blue h3 {
            color: #1e3a8a;
        }

        .task-box-blue p {
            color: #1e40af;
        }

        .score-display {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .score-display h3 {
            color: #1e3a8a;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .score-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #10b981;
        }

        .completion-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .completion-button {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1.5rem 3rem;
            border-radius: 25px;
            border: none;
            font-weight: bold;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            position: relative;
            z-index: 10;
        }

        .completion-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
        }

        .completion-button.completed {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            cursor: default;
        }

        .completion-button:disabled {
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            .question-title {
                font-size: 1.1rem;
            }

            .completion-button {
                font-size: 1.1rem;
                padding: 1.25rem 2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>📖 Definition Globalisierung</h1>
        <a href="index.html" class="back-link">← Zurück zum Lernpfad</a>
    </header>

    <main>
        <div class="card">
            <h2>📺 Video: Was ist Globalisierung?</h2>
            <p style="color: #666; margin-bottom: 1rem;">Schauen Sie sich das folgende Video an, um anschliessend beschreiben zu können, was mit Globalisierung gemeint ist.</p>
            <div class="video-container">
                <iframe 
                    src="https://www.youtube.com/embed/8ndXSBjKO9Y" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
        </div>

        <div class="card">
            <h2>✅ Überprüfungsfragen</h2>
            <p style="color: #666; margin-bottom: 1.5rem;">Testen Sie Ihr Verständnis des Videos mit den folgenden Fragen.</p>

            <!-- Frage 1 -->
            <div class="question-card">
                <div class="question-title">1. Was bedeutet der Begriff "Globalisierung"?</div>
                <div class="options" id="q1-options"></div>
                <button class="check-button" onclick="checkAnswer(1)" id="btn-1">Antwort überprüfen</button>
                <div id="feedback-1"></div>
            </div>

            <!-- Frage 2 -->
            <div class="question-card">
                <div class="question-title">2. Wann startet laut Video die Globalisierung?</div>
                <div class="options" id="q2-options"></div>
                <button class="check-button" onclick="checkAnswer(2)" id="btn-2">Antwort überprüfen</button>
                <div id="feedback-2"></div>
            </div>

            <!-- Frage 3 -->
            <div class="question-card">
                <div class="question-title">3. Welche Aussagen zur 2. Phase der Globalisierung ist FALSCH?</div>
                <div class="options" id="q3-options"></div>
                <button class="check-button" onclick="checkAnswer(3)" id="btn-3">Antwort überprüfen</button>
                <div id="feedback-3"></div>
            </div>

            <!-- Frage 4 -->
            <div class="question-card">
                <div class="question-title">4. Welche Bereiche beeinflusst die 3. Welle der Globalisierung?</div>
                <div class="options" id="q4-options"></div>
                <button class="check-button" onclick="checkAnswer(4)" id="btn-4">Antwort überprüfen</button>
                <div id="feedback-4"></div>
            </div>

            <!-- Frage 5 -->
            <div class="question-card">
                <div class="question-title">5. Welche Aussage zu den Vorteilen der Globalisierung ist FALSCH?</div>
                <div class="options" id="q5-options"></div>
                <button class="check-button" onclick="checkAnswer(5)" id="btn-5">Antwort überprüfen</button>
                <div id="feedback-5"></div>
            </div>

            <!-- Frage 6 -->
            <div class="question-card">
                <div class="question-title">6. Welche Aussage zu den Nachteilen der Globalisierung ist RICHTIG?</div>
                <div class="options" id="q6-options"></div>
                <button class="check-button" onclick="checkAnswer(6)" id="btn-6">Antwort überprüfen</button>
                <div id="feedback-6"></div>
            </div>

            <!-- Frage 7 -->
            <div class="question-card">
                <div class="question-title">7. Wer profitiert am meisten von der Globalisierung?</div>
                <div class="options" id="q7-options"></div>
                <button class="check-button" onclick="checkAnswer(7)" id="btn-7">Antwort überprüfen</button>
                <div id="feedback-7"></div>
            </div>
        </div>

        <div id="score-container"></div>

        <!-- Aufklappbarer Bereich -->
        <div class="expandable-section">
            <div class="expandable-header" onclick="toggleExpand()">
                <span>Aufträge zur Definition der Globalisierung</span>
                <span class="arrow">▼</span>
            </div>
            <div class="expandable-content" id="expandable-content">
                <div class="expandable-inner">
                    <div class="task-box">
                        <h3>📚 Auftrag 1:</h3>
                        <p>Fassen Sie mit den korrekten Antworten zum Hörverstehen in Ihrem OneNote zusammen, was mit Globalisierung gemeint ist.</p>
                    </div>
                    <div class="task-box task-box-blue">
                        <h3>📚 Auftrag 2:</h3>
                        <p>Hat Kolumbus tatsächlich die neue Welt ''entdeckt''? Recherchieren Sie Vernetzungen zwischen Weltregionen, die es bereits vor Kolumbus gab. Recherchieren Sie anschliessend, wer vor Kolumbus in Amerika lebte und welche Auswirkungen auf diese Personen durch Kolumbus und seine europäischen Zeitgenossen entstanden. Argumentieren Sie anschliessend in Ihrem OneNote, inwiefern bei Kolumbus von ''Entdecken'' gesprochen werden kann.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Abschluss-Button -->
        <div class="completion-section" id="completion-section">
            <h3 style="color: #1e3a8a; margin-bottom: 1rem;">Modul abschließen</h3>
            <p style="color: #666; margin-bottom: 1.5rem;">Haben Sie alle Fragen beantwortet und die Aufträge bearbeitet?</p>
            <button id="completion-button" class="completion-button">
                <span>✓</span>
                <span id="button-text">Modul als abgeschlossen markieren</span>
            </button>
        </div>
    </main>

    <script>
        // Quiz-Daten
        const questions = {
            1: {
                question: "Was bedeutet der Begriff 'Globalisierung'?",
                options: [
                    { text: "Die weltweite Vernetzung von diversen Bereichen", correct: true },
                    { text: "Der internationale Handel zwischen Ländern", correct: false },
                    { text: "Die Gründung von Staatenbunden", correct: false },
                    { text: "Die Vernetzung der Welt durch das Internet", correct: false }
                ]
            },
            2: {
                question: "Wann startet laut Video die Globalisierung?",
                options: [
                    { text: "Mit den ersten europäischen Königen", correct: false },
                    { text: "Mit der Entdeckung Amerikas durch Kolumbus", correct: true },
                    { text: "Mit der Erfindung des Internets", correct: false },
                    { text: "Im Jahr 1800", correct: false }
                ]
            },
            3: {
                question: "Welche Aussagen zur 2. Phase der Globalisierung ist FALSCH?",
                options: [
                    { text: "In dieser Phase wurden internationale Unternehmen wichtig", correct: false },
                    { text: "Der technische Fortschritt führte zu einer vermehrten länderübergreifenden Zusammenarbeit", correct: false },
                    { text: "Es gibt vermehrt hohe Kosten für den Austausch von Waren und Kommunikation", correct: true },
                    { text: "Die länderübergreifende Kommunikation wurde vereinfacht", correct: false }
                ]
            },
            4: {
                question: "Welche Bereiche beeinflusst die 3. Welle der Globalisierung?",
                options: [
                    { text: "Kultur: In erster Linien werden Kulturen durchmischt", correct: false },
                    { text: "Wirtschaft: Insbesondere der Warenaustausch wird gefördert", correct: false },
                    { text: "Kommunikation: Vor allem Privatpersonen profitieren durch einen einfacheren Austausch", correct: false },
                    { text: "alle genannten", correct: true }
                ]
            },
            5: {
                question: "Welche Aussage zu den Vorteilen der Globalisierung ist FALSCH?",
                options: [
                    { text: "Weil international zusammengearbeitet wird, sind Kinder geschützter", correct: true },
                    { text: "Durch das Internet ist Wissen für die meisten Menschen zugänglich", correct: false },
                    { text: "Durch die weltweite Zusammenarbeit werden Produkte günstiger", correct: false },
                    { text: "Aufgrund der Globalisierung kann einfacher und günstiger gereist werden", correct: false }
                ]
            },
            6: {
                question: "Welche Aussage zu den Nachteilen der Globalisierung ist RICHTIG?",
                options: [
                    { text: "Je mehr die Welt vernetzt ist, desto mehr Arbeitsplätze werden geschaffen", correct: false },
                    { text: "Je mehr die Globalisierung fortschreitet, desto weniger Unterschiede gibt es zwischen armen und reichen Personen", correct: false },
                    { text: "Regenwälder werden immer mehr geschützt", correct: false },
                    { text: "Vieles wird immer billiger Produziert, sodass lokale Wirtschaften leiden", correct: true }
                ]
            },
            7: {
                question: "Wer profitiert am meisten von der Globalisierung?",
                options: [
                    { text: "Alle etwa gleich viel", correct: false },
                    { text: "Reiche Länder wie die Schweiz", correct: true },
                    { text: "Menschen in Ländern, wo billig produziert werden kann", correct: false },
                    { text: "Niemand profitiert wirklich", correct: false }
                ]
            }
        };

        let userAnswers = {};
        let correctCount = 0;
        let isModuleCompleted = false;

        // Shuffle-Funktion
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Fragen initialisieren
        function initQuestions() {
            Object.keys(questions).forEach(qNum => {
                const q = questions[qNum];
                const shuffled = shuffleArray(q.options);
                const container = document.getElementById(`q${qNum}-options`);
                
                shuffled.forEach((option, idx) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    optionDiv.textContent = option.text;
                    optionDiv.onclick = () => selectOption(qNum, option.text, optionDiv);
                    container.appendChild(optionDiv);
                });
            });
        }

        // Option auswählen
        function selectOption(questionNum, answer, element) {
            // Entferne vorherige Auswahl
            const options = document.querySelectorAll(`#q${questionNum}-options .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            
            // Markiere neue Auswahl
            element.classList.add('selected');
            userAnswers[questionNum] = answer;
        }

        // Antwort überprüfen
        function checkAnswer(questionNum) {
            const userAnswer = userAnswers[questionNum];
            if (!userAnswer) {
                alert('Bitte wählen Sie zuerst eine Antwort aus!');
                return;
            }

            const q = questions[questionNum];
            const correctOption = q.options.find(opt => opt.correct);
            const isCorrect = userAnswer === correctOption.text;

            // Markiere alle Optionen
            const options = document.querySelectorAll(`#q${questionNum}-options .option`);
            options.forEach(opt => {
                const optionText = opt.textContent;
                const optionData = q.options.find(o => o.text === optionText);
                
                if (optionData.correct) {
                    opt.classList.add('correct');
                } else if (optionText === userAnswer && !isCorrect) {
                    opt.classList.add('incorrect');
                }
                opt.style.pointerEvents = 'none';
            });

            // Zeige Feedback
            const feedbackDiv = document.getElementById(`feedback-${questionNum}`);
            feedbackDiv.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedbackDiv.textContent = isCorrect 
                ? '✓ Richtig! Gut gemacht!' 
                : `✗ Leider falsch. Die richtige Antwort ist: ${correctOption.text}`;

            // Button deaktivieren
            document.getElementById(`btn-${questionNum}`).disabled = true;

            // Zähle richtige Antworten
            if (isCorrect) {
                correctCount++;
            }

            // Zeige Score nach letzter Frage
            if (Object.keys(userAnswers).length === Object.keys(questions).length) {
                showScore();
            }
        }

        // Score anzeigen
        function showScore() {
            const total = Object.keys(questions).length;
            const percentage = Math.round((correctCount / total) * 100);
            
            const scoreHTML = `
                <div class="score-display">
                    <h3>📊 Ihr Ergebnis</h3>
                    <div class="score-value">${correctCount} / ${total}</div>
                    <p style="color: #1e3a8a; margin-top: 0.5rem; font-size: 1.1rem;">
                        ${percentage}% richtig
                    </p>
                    <p style="color: #666; margin-top: 1rem;">
                        ${percentage >= 80 ? '🌟 Ausgezeichnet! Sie haben das Video sehr gut verstanden!' : 
                          percentage >= 60 ? '👍 Gut gemacht! Sie haben die Grundlagen verstanden.' : 
                          '💡 Schauen Sie sich das Video noch einmal an, um Ihr Verständnis zu vertiefen.'}
                    </p>
                </div>
            `;
            
            document.getElementById('score-container').innerHTML = scoreHTML;
        }

        // Toggle Expandable
        function toggleExpand() {
            const content = document.getElementById('expandable-content');
            const header = document.querySelector('.expandable-header');
            
            content.classList.toggle('open');
            header.classList.toggle('open');
        }

        // Progress Tracking
        function initProgressTracking() {
            // Prüfe beide Systeme
            const completedOld = localStorage.getItem('globalisierung_module2_completed');
            const progress = JSON.parse(localStorage.getItem('globalisierungProgress') || '[]');
            
            // Wenn im neuen System (Index-Seite) als abgeschlossen markiert
            if (progress.includes(2)) {
                isModuleCompleted = true;
                updateCompletionButton(true);
                // Synchronisiere mit altem System
                if (completedOld !== 'true') {
                    localStorage.setItem('globalisierung_module2_completed', 'true');
                }
            }
            // Wenn im alten System als abgeschlossen markiert
            else if (completedOld === 'true') {
                isModuleCompleted = true;
                updateCompletionButton(true);
                // Synchronisiere mit neuem System
                if (!progress.includes(2)) {
                    progress.push(2);
                    localStorage.setItem('globalisierungProgress', JSON.stringify(progress));
                }
            }
        }

        function markAsComplete() {
            if (isModuleCompleted) return;

            // Altes System (für Kompatibilität)
            localStorage.setItem('globalisierung_module2_completed', 'true');
            localStorage.setItem('globalisierung_module2_completedAt', new Date().toISOString());
            
            // Neues System (für Index-Seite)
            let progress = JSON.parse(localStorage.getItem('globalisierungProgress') || '[]');
            if (!progress.includes(2)) {
                progress.push(2);
                localStorage.setItem('globalisierungProgress', JSON.stringify(progress));
            }
            
            isModuleCompleted = true;
            updateCompletionButton(true);

            alert('✓ Modul 2 erfolgreich abgeschlossen!\n\nIhr Fortschritt wurde gespeichert.');
        }

        function updateCompletionButton(completed) {
            const button = document.getElementById('completion-button');
            const buttonText = document.getElementById('button-text');
            
            if (button && buttonText) {
                if (completed) {
                    button.classList.add('completed');
                    buttonText.textContent = 'Modul abgeschlossen ✓';
                    button.disabled = true;
                } else {
                    button.classList.remove('completed');
                    buttonText.textContent = 'Modul als abgeschlossen markieren';
                    button.disabled = false;
                }
            }
        }

        // Initialisierung
        window.onload = () => {
            initQuestions();
            initProgressTracking();
            
            // Event Listener für Completion Button
            const completionButton = document.getElementById('completion-button');
            if (completionButton) {
                completionButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    markAsComplete();
                });
            }
        };
    </script>
</body>
</html>

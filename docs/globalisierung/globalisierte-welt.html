<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Globalisierungs-Spiel - Die Weltreise deiner Alltagsgegenst√§nde</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .7; }
        }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .float-animation { animation: float 3s ease-in-out infinite; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-green-50">
    <div id="app"></div>

    <script>
        const products = {
            tshirt: {
                name: 'T-Shirt',
                icon: 'üëï',
                color: 'bg-blue-500',
                steps: [
                    {
                        title: 'Baumwollanbau',
                        location: 'Indien oder Usbekistan',
                        description: 'Die Baumwolle f√ºr dein T-Shirt wird auf riesigen Feldern angebaut. Ein T-Shirt ben√∂tigt ca. 2.700 Liter Wasser!',
                        icon: 'üå±',
                        country: 'IN/UZ',
                        co2: '2.1 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Spinnen & Weben',
                        location: 'Bangladesh oder China',
                        description: 'Die Baumwolle wird zu Garn gesponnen und dann zu Stoff gewebt. Oft arbeiten hier Menschen f√ºr sehr niedrige L√∂hne.',
                        icon: 'üßµ',
                        country: 'BD/CN',
                        co2: '3.5 kg CO‚ÇÇ'
                    },
                    {
                        title: 'F√§rben & Veredeln',
                        location: 'China oder T√ºrkei',
                        description: 'Der Stoff wird gef√§rbt und behandelt. Dabei werden oft Chemikalien verwendet, die die Umwelt belasten k√∂nnen.',
                        icon: 'üé®',
                        country: 'CN/TR',
                        co2: '2.8 kg CO‚ÇÇ'
                    },
                    {
                        title: 'N√§hen & Produktion',
                        location: 'Vietnam oder Bangladesch',
                        description: 'Hier wird dein T-Shirt zusammengen√§ht. Die N√§hereien besch√§ftigen oft tausende Arbeiter*innen.',
                        icon: '‚úÇÔ∏è',
                        country: 'VN/BD',
                        co2: '1.2 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Transport per Schiff',
                        location: 'Containerschiff √ºber den Ozean',
                        description: 'Dein T-Shirt reist ca. 15.000 km auf einem Containerschiff. Die Reise dauert etwa 4-6 Wochen.',
                        icon: 'üö¢',
                        country: 'Meer',
                        co2: '0.8 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Im Gesch√§ft in der Schweiz',
                        location: 'Z√ºrich, Schweiz',
                        description: 'Endlich im Laden! Dein T-Shirt hat eine Weltreise von √ºber 15.000 km hinter sich und wurde von √ºber 20 H√§nden ber√ºhrt.',
                        icon: 'üè™',
                        country: 'CH',
                        co2: '0.3 kg CO‚ÇÇ'
                    }
                ],
                totalDistance: '15.000 km',
                totalCO2: '10.7 kg CO‚ÇÇ',
                funFact: 'Ein durchschnittliches T-Shirt reist weiter als die meisten Menschen in einem Jahr!'
            },
            smartphone: {
                name: 'Smartphone',
                icon: 'üì±',
                color: 'bg-purple-500',
                steps: [
                    {
                        title: 'Seltene Erden',
                        location: 'Kongo, China, Chile',
                        description: '√úber 60 verschiedene Materialien werden f√ºr ein Smartphone ben√∂tigt! Coltan, Lithium und seltene Erden werden oft unter schwierigen Bedingungen abgebaut.',
                        icon: '‚õèÔ∏è',
                        country: 'CD/CN/CL',
                        co2: '15 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Chip-Produktion',
                        location: 'Taiwan oder S√ºdkorea',
                        description: 'Die komplexen Mikrochips werden in High-Tech-Fabriken hergestellt. Die Produktion einer einzigen Chip-Fabrik kostet Milliarden!',
                        icon: 'üíæ',
                        country: 'TW/KR',
                        co2: '25 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Display-Herstellung',
                        location: 'S√ºdkorea oder Japan',
                        description: 'Die hochaufl√∂senden Displays werden in spezialisierten Fabriken gefertigt. Ein modernes Display hat mehr Pixel als das menschliche Auge unterscheiden kann.',
                        icon: 'üì±',
                        country: 'KR/JP',
                        co2: '12 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Zusammenbau',
                        location: 'China (z.B. Shenzhen)',
                        description: 'Tausende Arbeiter*innen setzen die einzelnen Komponenten zusammen. Manche Fabriken produzieren √ºber 500.000 Smartphones pro Tag!',
                        icon: 'üîß',
                        country: 'CN',
                        co2: '8 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Qualit√§tskontrolle & Verpackung',
                        location: 'China',
                        description: 'Jedes Ger√§t wird getestet und in seine Verpackung gelegt. Die Verpackung selbst kommt oft aus wieder anderen L√§ndern.',
                        icon: 'üì¶',
                        country: 'CN',
                        co2: '3 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Luftfracht in die Schweiz',
                        location: 'Z√ºrich, Schweiz',
                        description: 'Neue Smartphones werden oft per Flugzeug transportiert, um schnell im Laden zu sein. Das ist schnell, aber sehr CO‚ÇÇ-intensiv!',
                        icon: '‚úàÔ∏è',
                        country: 'CH',
                        co2: '7 kg CO‚ÇÇ'
                    }
                ],
                totalDistance: '20.000 km',
                totalCO2: '70 kg CO‚ÇÇ',
                funFact: 'Ein Smartphone enth√§lt mehr Rechenleistung als die Computer, die Apollo 11 zum Mond gebracht haben!'
            },
            coffee: {
                name: 'Kaffee',
                icon: '‚òï',
                color: 'bg-amber-600',
                steps: [
                    {
                        title: 'Kaffeeanbau',
                        location: 'Brasilien, Kolumbien oder √Ñthiopien',
                        description: 'Kaffeebohnen wachsen an Str√§uchern in tropischen Regionen. Die Ernte erfolgt oft von Hand ‚Äì ein harter Job!',
                        icon: '‚òï',
                        country: 'BR/CO/ET',
                        co2: '0.5 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Ernte & Verarbeitung',
                        location: 'Im Anbauland',
                        description: 'Die reifen Kaffeekirschen werden gepfl√ºckt, die Bohnen herausgel√∂st und getrocknet. Dieser Prozess dauert mehrere Wochen.',
                        icon: 'üåæ',
                        country: 'Ursprung',
                        co2: '0.3 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Export & Verschiffung',
                        location: 'Per Containerschiff',
                        description: 'Die gr√ºnen Kaffeebohnen reisen in gro√üen S√§cken per Schiff nach Europa. Die Reise kann 4-8 Wochen dauern.',
                        icon: 'üö¢',
                        country: 'Ozean',
                        co2: '0.4 kg CO‚ÇÇ'
                    },
                    {
                        title: 'R√∂stung',
                        location: 'Schweiz oder Deutschland',
                        description: 'In Europa angekommen, werden die Bohnen ger√∂stet. Dabei entwickelt sich erst das typische Kaffeearoma!',
                        icon: 'üî•',
                        country: 'CH/DE',
                        co2: '0.6 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Verpackung & Vertrieb',
                        location: 'Schweiz',
                        description: 'Der ger√∂stete Kaffee wird verpackt und an Gesch√§fte geliefert.',
                        icon: 'üì¶',
                        country: 'CH',
                        co2: '0.2 kg CO‚ÇÇ'
                    },
                    {
                        title: 'In deiner Tasse',
                        location: 'Zuhause in der Schweiz',
                        description: 'Endlich kannst du deinen Kaffee geniessen! Aber denk dran: F√ºr eine Tasse Kaffee werden etwa 140 Liter Wasser ben√∂tigt (Anbau inkl.).',
                        icon: '‚òï',
                        country: 'CH',
                        co2: '0.1 kg CO‚ÇÇ'
                    }
                ],
                totalDistance: '10.000 km',
                totalCO2: '2.1 kg CO‚ÇÇ pro kg',
                funFact: 'Kaffee ist nach Erd√∂l das zweitwertvollste Handelsgut der Welt!'
            },
            sneakers: {
                name: 'Sneakers',
                icon: 'üëü',
                color: 'bg-red-500',
                steps: [
                    {
                        title: 'Rohstoffe sammeln',
                        location: 'Verschiedene L√§nder',
                        description: 'Ein Sneaker besteht aus √ºber 65 Einzelteilen! Gummi aus Malaysia, Leder aus Brasilien, synthetische Materialien aus China.',
                        icon: 'üåç',
                        country: 'Welt',
                        co2: '3.2 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Material-Produktion',
                        location: 'China, Vietnam, Taiwan',
                        description: 'Die verschiedenen Materialien werden verarbeitet: Gummi wird vulkanisiert, Stoffe gewebt, Kunststoffe geformt.',
                        icon: 'üè≠',
                        country: 'CN/VN/TW',
                        co2: '5.8 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Schuhproduktion',
                        location: 'Vietnam oder Indonesien',
                        description: 'In gro√üen Fabriken werden die Schuhe zusammengesetzt. Ein Paar Sneakers durchl√§uft √ºber 360 Arbeitsschritte!',
                        icon: 'üëü',
                        country: 'VN/ID',
                        co2: '4.5 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Qualit√§tskontrolle',
                        location: 'Im Produktionsland',
                        description: 'Jeder Schuh wird gepr√ºft, ob er den Standards entspricht. Dann werden sie verpackt und etikettiert.',
                        icon: '‚úì',
                        country: 'VN/ID',
                        co2: '0.8 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Seefracht nach Europa',
                        location: 'Container √ºber den Pazifik',
                        description: 'Die Sneakers reisen etwa 6-8 Wochen in Containern √ºber das Meer.',
                        icon: 'üö¢',
                        country: 'Ozean',
                        co2: '1.2 kg CO‚ÇÇ'
                    },
                    {
                        title: 'Im Sportgesch√§ft',
                        location: 'Schweiz',
                        description: 'Nach der langen Reise stehen deine Sneakers endlich im Regal. Insgesamt wurden sie von √ºber 50 H√§nden ber√ºhrt!',
                        icon: 'üè™',
                        country: 'CH',
                        co2: '0.5 kg CO‚ÇÇ'
                    }
                ],
                totalDistance: '18.000 km',
                totalCO2: '16 kg CO‚ÇÇ',
                funFact: 'Die globale Schuhindustrie produziert j√§hrlich √ºber 24 Milliarden Paar Schuhe!'
            }
        };

        let currentState = {
            selectedProduct: null,
            currentStep: 0,
            score: 0,
            showFact: false
        };

        function selectProduct(productKey) {
            currentState.selectedProduct = productKey;
            currentState.currentStep = 0;
            currentState.showFact = false;
            render();
        }

        function nextStep() {
            const product = products[currentState.selectedProduct];
            if (currentState.currentStep < product.steps.length - 1) {
                currentState.currentStep++;
                currentState.score += 10;
            } else {
                currentState.showFact = true;
                currentState.score += 50;
            }
            render();
        }

        function reset() {
            currentState.selectedProduct = null;
            currentState.currentStep = 0;
            currentState.showFact = false;
            render();
        }

        function renderStartScreen() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-8">
                    <div class="max-w-6xl mx-auto">
                        <div class="text-center mb-12">
                            <div class="text-6xl mb-4 float-animation">üåç</div>
                            <h1 class="text-5xl font-bold text-gray-800 mb-4">
                                Die Weltreise deiner Alltagsgegenst√§nde
                            </h1>
                            <p class="text-xl text-gray-600 mb-2">
                                Entdecke, woher deine Sachen wirklich kommen!
                            </p>
                            <p class="text-lg text-gray-500">
                                W√§hle einen Gegenstand und verfolge seine Reise bis in die Schweiz
                            </p>
                            <div class="mt-4 flex items-center justify-center gap-2 text-sm text-gray-600">
                                <span>üì¶</span>
                                <span>Punkte: ${currentState.score}</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            ${Object.entries(products).map(([key, product]) => `
                                <button
                                    onclick="selectProduct('${key}')"
                                    class="${product.color} hover:scale-105 transform transition-all duration-300 rounded-2xl p-8 text-white shadow-2xl hover:shadow-3xl cursor-pointer"
                                >
                                    <div class="text-6xl mb-4">${product.icon}</div>
                                    <h3 class="text-2xl font-bold mb-2">${product.name}</h3>
                                    <div class="text-sm opacity-90 space-y-1">
                                        <p>üåç ${product.totalDistance}</p>
                                        <p>üí® ${product.totalCO2}</p>
                                        <p class="text-xs mt-2">‚Üí Klicke f√ºr die Reise</p>
                                    </div>
                                </button>
                            `).join('')}
                        </div>

                        <div class="mt-12 bg-white rounded-xl p-6 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <span>üåç</span>
                                Wusstest du?
                            </h2>
                            <div class="grid md:grid-cols-2 gap-4 text-gray-700">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <p class="font-semibold mb-2">üåè Globalisierung bedeutet:</p>
                                    <p class="text-sm">Produkte werden dort hergestellt, wo es am g√ºnstigsten ist ‚Äì oft in verschiedenen L√§ndern f√ºr verschiedene Teile!</p>
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <p class="font-semibold mb-2">‚ôªÔ∏è Umweltauswirkungen:</p>
                                    <p class="text-sm">Je weiter ein Produkt reist, desto mehr CO‚ÇÇ wird ausgestossen. Lokale Produkte sind oft umweltfreundlicher!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFactScreen() {
            const product = products[currentState.selectedProduct];
            return `
                <div class="min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-8 flex items-center justify-center">
                    <div class="max-w-3xl mx-auto">
                        <div class="bg-white rounded-3xl p-12 shadow-2xl text-center">
                            <div class="text-6xl mb-6">üéâ</div>
                            <h2 class="text-4xl font-bold text-gray-800 mb-6">
                                Weltreise abgeschlossen!
                            </h2>
                            <div class="bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-2xl p-8 mb-8">
                                <p class="text-2xl font-bold mb-4">${product.name}</p>
                                <div class="grid grid-cols-2 gap-4 text-left">
                                    <div>
                                        <p class="text-sm opacity-90">Gesamte Distanz</p>
                                        <p class="text-3xl font-bold">${product.totalDistance}</p>
                                    </div>
                                    <div>
                                        <p class="text-sm opacity-90">CO‚ÇÇ-Fussabdruck</p>
                                        <p class="text-3xl font-bold">${product.totalCO2}</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-8">
                                <p class="text-lg font-semibold text-gray-800 mb-2">üí° Wusstest du?</p>
                                <p class="text-gray-700">${product.funFact}</p>
                            </div>

                            <div class="bg-green-50 rounded-xl p-6 mb-8 text-left">
                                <p class="font-bold text-gray-800 mb-3">üå± Was kannst du tun?</p>
                                <ul class="space-y-2 text-gray-700 text-sm">
                                    <li>‚Ä¢ Kaufe lokale und nachhaltig produzierte Produkte, wenn m√∂glich</li>
                                    <li>‚Ä¢ Repariere Dinge, statt sie wegzuwerfen</li>
                                    <li>‚Ä¢ Achte auf Fair-Trade und Bio-Siegel</li>
                                    <li>‚Ä¢ Kaufe nur, was du wirklich brauchst</li>
                                </ul>
                            </div>

                            <div class="text-3xl font-bold text-green-600 mb-4">
                                +50 Punkte! Gesamt: ${currentState.score} Punkte
                            </div>

                            <button
                                onclick="reset()"
                                class="bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold py-4 px-8 rounded-full text-lg shadow-lg hover:shadow-xl transition-all transform hover:scale-105"
                            >
                                N√§chstes Produkt erkunden
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderJourneyScreen() {
            const product = products[currentState.selectedProduct];
            const step = product.steps[currentState.currentStep];
            const progress = ((currentState.currentStep + 1) / product.steps.length) * 100;

            return `
                <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-8">
                    <div class="max-w-5xl mx-auto">
                        <div class="mb-8">
                            <button
                                onclick="reset()"
                                class="text-gray-600 hover:text-gray-800 flex items-center gap-2 mb-4"
                            >
                                ‚Üê Zur√ºck zur √úbersicht
                            </button>
                            
                            <div class="bg-white rounded-xl p-4 shadow-lg mb-4">
                                <div class="flex items-center justify-between mb-2">
                                    <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
                                        <span class="text-3xl">${product.icon}</span>
                                        ${product.name}
                                    </h2>
                                    <div class="text-sm text-gray-600 flex items-center gap-2">
                                        <span>üì¶</span>
                                        ${currentState.score} Punkte
                                    </div>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                    <div
                                        class="h-full ${product.color} transition-all duration-500 rounded-full"
                                        style="width: ${progress}%"
                                    ></div>
                                </div>
                                <p class="text-sm text-gray-600 mt-2">
                                    Schritt ${currentState.currentStep + 1} von ${product.steps.length}
                                </p>
                            </div>
                        </div>

                        <div class="bg-white rounded-3xl shadow-2xl overflow-hidden">
                            <div class="${product.color} text-white p-8">
                                <div class="text-7xl mb-4 text-center">${step.icon}</div>
                                <h3 class="text-3xl font-bold text-center mb-2">
                                    ${step.title}
                                </h3>
                                <div class="flex items-center justify-center gap-2 text-lg opacity-90">
                                    <span>üìç</span>
                                    <p>${step.location}</p>
                                </div>
                            </div>

                            <div class="p-8">
                                <p class="text-xl text-gray-700 leading-relaxed mb-6">
                                    ${step.description}
                                </p>

                                <div class="grid grid-cols-2 gap-4 mb-8">
                                    <div class="bg-blue-50 rounded-xl p-4">
                                        <p class="text-sm text-gray-600 mb-1">Land/Region</p>
                                        <p class="text-2xl font-bold text-blue-600">${step.country}</p>
                                    </div>
                                    <div class="bg-green-50 rounded-xl p-4">
                                        <p class="text-sm text-gray-600 mb-1">CO‚ÇÇ in diesem Schritt</p>
                                        <p class="text-2xl font-bold text-green-600">${step.co2}</p>
                                    </div>
                                </div>

                                <button
                                    onclick="nextStep()"
                                    class="w-full ${product.color} hover:opacity-90 text-white font-bold py-4 px-8 rounded-xl text-xl shadow-lg hover:shadow-xl transition-all transform hover:scale-105 flex items-center justify-center gap-2"
                                >
                                    ${currentState.currentStep < product.steps.length - 1 
                                        ? '‚õ¥Ô∏è Weiter zur n√§chsten Station' 
                                        : 'üõçÔ∏è Reise abschliessen'}
                                </button>
                            </div>
                        </div>

                        <div class="mt-6 bg-white rounded-xl p-4 shadow-lg">
                            <div class="flex items-center gap-4 overflow-x-auto">
                                ${product.steps.map((s, idx) => `
                                    <div class="flex flex-col items-center min-w-[80px] ${idx <= currentState.currentStep ? 'opacity-100' : 'opacity-30'}">
                                        <div class="text-2xl mb-1 ${idx === currentState.currentStep ? 'scale-125' : ''} transition-transform">
                                            ${s.icon}
                                        </div>
                                        <div class="text-xs text-center text-gray-600">${s.country}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function render() {
            const app = document.getElementById('app');
            
            if (!currentState.selectedProduct) {
                app.innerHTML = renderStartScreen();
            } else if (currentState.showFact) {
                app.innerHTML = renderFactScreen();
            } else {
                app.innerHTML = renderJourneyScreen();
            }
        }

        // Initial render
        render();
    </script>
</body>
</html>
    <!-- ========================================
         FORTSCHRITTS-TRACKING CODE
         Dieser Code muss in JEDE Modul-Seite!
         ======================================== -->
    <script>
        // WICHTIG: √Ñndern Sie diese Nummer f√ºr jede Seite!
        const CURRENT_STEP = 1; // F√ºr globalisierte-welt.html = 1, f√ºr globalisierung-definition.html = 2, etc.

        let hasScrolledToBottom = false;
        let hasCompletedModule = false;

        // Scroll-Fortschritt tracken
        function updateScrollProgress() {
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight;
            const scrollTop = window.scrollY;
            const scrollPercentage = (scrollTop / (documentHeight - windowHeight)) * 100;

            // Fortschritts-Kreis aktualisieren
            const progressCircle = document.getElementById('progressCircle');
            progressCircle.textContent = Math.round(scrollPercentage) + '%';
            progressCircle.parentElement.style.background = `conic-gradient(#10b981 0% ${scrollPercentage}%, #e5e7eb ${scrollPercentage}% 100%)`;

            // Wenn bis zum Ende gescrollt (95% oder mehr)
            if (scrollPercentage >= 95 && !hasScrolledToBottom) {
                hasScrolledToBottom = true;
                enableCompletionButton();
            }
        }

        // Button aktivieren
        function enableCompletionButton() {
            const button = document.getElementById('completeButton');
            button.disabled = false;
            button.textContent = '‚úì Ich habe diese Seite gelesen';
            
            // Fortschritts-Indikator verstecken
            document.getElementById('progressIndicator').classList.add('hidden');
        }

        // Modul als abgeschlossen markieren
        function completeModule() {
            if (hasCompletedModule) return;

            hasCompletedModule = true;

            // Fortschritt speichern
            let completed = JSON.parse(localStorage.getItem('globalisierungProgress') || '[]');
            if (!completed.includes(CURRENT_STEP)) {
                completed.push(CURRENT_STEP);
                localStorage.setItem('globalisierungProgress', JSON.stringify(completed));
            }

            // UI aktualisieren
            const button = document.getElementById('completeButton');
            button.textContent = '‚úì Abgeschlossen';
            button.style.background = '#10b981';
            button.disabled = true;

            const message = document.getElementById('completionMessage');
            message.classList.add('show');

            // "N√§chstes Thema" Button aktivieren (falls vorhanden)
            const nextButton = document.getElementById('nextButton');
            if (nextButton) {
                nextButton.classList.remove('disabled');
            }
        }

        // Pr√ºfen ob Modul bereits abgeschlossen wurde
        function checkIfAlreadyCompleted() {
            const completed = JSON.parse(localStorage.getItem('globalisierungProgress') || '[]');
            if (completed.includes(CURRENT_STEP)) {
                hasCompletedModule = true;
                hasScrolledToBottom = true;
                
                const button = document.getElementById('completeButton');
                button.textContent = '‚úì Bereits abgeschlossen';
                button.style.background = '#10b981';
                button.disabled = true;

                const message = document.getElementById('completionMessage');
                message.classList.add('show');

                document.getElementById('progressIndicator').classList.add('hidden');
            }
        }

        // Event Listeners
        window.addEventListener('scroll', updateScrollProgress);
        document.getElementById('completeButton').addEventListener('click', completeModule);

        // Initial check
        updateScrollProgress();
        checkIfAlreadyCompleted();
    </script>
</body>
</html>

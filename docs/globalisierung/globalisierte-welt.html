<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Globalisierungs-Quiz - Die Supply Chain entdecken</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes celebration {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-10deg) scale(1.1); }
            75% { transform: rotate(10deg) scale(1.1); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        .pulse-animation {
            animation: pulse 0.5s ease-in-out 3;
        }
        
        .celebration {
            animation: celebration 0.6s ease-in-out 2;
        }
        
        .option-card {
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .option-card.correct {
            animation: pulse 0.5s ease-in-out;
        }
        
        .option-card.wrong {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-green-50 min-h-screen">
    <div id="app"></div>

    <script>
        // Game State
        let gameState = {
            currentProduct: null,
            currentStep: 0,
            score: 0,
            lives: 3,
            correctInRound: 0,
            gameMode: 'menu', // menu, playing, result, final
            showHint: false,
            usedHint: false
        };

        // Product data with chronological questions following the supply chain
        const products = {
            tshirt: {
                name: 'T-Shirt',
                icon: 'ğŸ‘•',
                color: '#3B82F6',
                gradient: 'from-blue-500 to-blue-600',
                totalSteps: 6,
                questions: [
                    {
                        step: 1,
                        stepTitle: 'ğŸŒ± Schritt 1: Rohstoffe',
                        question: 'Wo wird die Baumwolle fÃ¼r dein T-Shirt hauptsÃ¤chlich angebaut?',
                        options: [
                            { country: 'Indien', flag: 'ğŸ‡®ğŸ‡³', correct: true },
                            { country: 'Schweiz', flag: 'ğŸ‡¨ğŸ‡­', correct: false },
                            { country: 'Deutschland', flag: 'ğŸ‡©ğŸ‡ª', correct: false },
                            { country: 'Kanada', flag: 'ğŸ‡¨ğŸ‡¦', correct: false }
                        ],
                        correctAnswer: 'Indien',
                        fact: 'Indien ist der zweitgrÃ¶ÃŸte Baumwollproduzent der Welt! Ein einziges T-Shirt benÃ¶tigt etwa 2.700 Liter Wasser beim Anbau.',
                        co2: '2.1 kg COâ‚‚',
                        hint: 'Dieses Land in SÃ¼dasien ist bekannt fÃ¼r seine groÃŸe Textilproduktion.'
                    },
                    {
                        step: 2,
                        stepTitle: 'ğŸ§µ Schritt 2: Spinnen & Weben',
                        question: 'In welchem Land wird die Baumwolle zu Garn gesponnen und zu Stoff gewebt?',
                        options: [
                            { country: 'China', flag: 'ğŸ‡¨ğŸ‡³', correct: true },
                            { country: 'Italien', flag: 'ğŸ‡®ğŸ‡¹', correct: false },
                            { country: 'USA', flag: 'ğŸ‡ºğŸ‡¸', correct: false },
                            { country: 'Brasilien', flag: 'ğŸ‡§ğŸ‡·', correct: false }
                        ],
                        correctAnswer: 'China',
                        fact: 'China ist die weltgrÃ¶ÃŸte Textilindustrie und verarbeitet Baumwolle aus der ganzen Welt zu Stoffen.',
                        co2: '3.5 kg COâ‚‚',
                        hint: 'Die â€Werkbank der Welt" in Ostasien.'
                    },
                    {
                        step: 3,
                        stepTitle: 'ğŸ¨ Schritt 3: FÃ¤rben & Veredeln',
                        question: 'Wo wird der Stoff oft gefÃ¤rbt und chemisch behandelt?',
                        options: [
                            { country: 'China', flag: 'ğŸ‡¨ğŸ‡³', correct: true },
                            { country: 'Norwegen', flag: 'ğŸ‡³ğŸ‡´', correct: false },
                            { country: 'Australien', flag: 'ğŸ‡¦ğŸ‡º', correct: false },
                            { country: 'Argentinien', flag: 'ğŸ‡¦ğŸ‡·', correct: false }
                        ],
                        correctAnswer: 'China',
                        fact: 'Beim FÃ¤rben werden oft groÃŸe Mengen Wasser und Chemikalien verwendet. Dies kann die Umwelt stark belasten.',
                        co2: '2.8 kg COâ‚‚',
                        hint: 'Oft im gleichen Land wie das Weben - effizient fÃ¼r kurze Transportwege.'
                    },
                    {
                        step: 4,
                        stepTitle: 'âœ‚ï¸ Schritt 4: NÃ¤hen',
                        question: 'In welchem Land werden viele T-Shirts zusammengenÃ¤ht?',
                        options: [
                            { country: 'Bangladesh', flag: 'ğŸ‡§ğŸ‡©', correct: true },
                            { country: 'Finnland', flag: 'ğŸ‡«ğŸ‡®', correct: false },
                            { country: 'Mexiko', flag: 'ğŸ‡²ğŸ‡½', correct: false },
                            { country: 'Japan', flag: 'ğŸ‡¯ğŸ‡µ', correct: false }
                        ],
                        correctAnswer: 'Bangladesh',
                        fact: 'Bangladesh ist eines der grÃ¶ÃŸten TextilproduktionslÃ¤nder. Tausende Menschen arbeiten in NÃ¤hereien â€“ oft unter schwierigen Bedingungen.',
                        co2: '1.2 kg COâ‚‚',
                        hint: 'Ein sÃ¼dasiatisches Land, Nachbar von Indien, bekannt fÃ¼r gÃ¼nstige Textilproduktion.'
                    },
                    {
                        step: 5,
                        stepTitle: 'ğŸš¢ Schritt 5: Transport',
                        question: 'Wie kommt dein T-Shirt in die Schweiz?',
                        options: [
                            { country: 'Containerschiff', flag: 'ğŸš¢', correct: true },
                            { country: 'Flugzeug', flag: 'âœˆï¸', correct: false },
                            { country: 'Zug', flag: 'ğŸš‚', correct: false },
                            { country: 'LKW direkt', flag: 'ğŸš›', correct: false }
                        ],
                        correctAnswer: 'Containerschiff',
                        fact: 'Dein T-Shirt reist etwa 15.000 km auf einem Containerschiff Ã¼ber den Ozean. Die Reise dauert 4-6 Wochen!',
                        co2: '0.8 kg COâ‚‚',
                        hint: 'Der gÃ¼nstigste und umweltfreundlichste Weg fÃ¼r lange Distanzen.'
                    },
                    {
                        step: 6,
                        stepTitle: 'ğŸª Schritt 6: Verkauf',
                        question: 'Wo kaufst du dein T-Shirt schlieÃŸlich?',
                        options: [
                            { country: 'GeschÃ¤ft in der Schweiz', flag: 'ğŸ‡¨ğŸ‡­', correct: true },
                            { country: 'Direkt in China', flag: 'ğŸ‡¨ğŸ‡³', correct: false },
                            { country: 'Online aus Indien', flag: 'ğŸ‡®ğŸ‡³', correct: false },
                            { country: 'Im Hafen', flag: 'âš“', correct: false }
                        ],
                        correctAnswer: 'GeschÃ¤ft in der Schweiz',
                        fact: 'Nach seiner Weltreise von Ã¼ber 15.000 km landet dein T-Shirt endlich im Schweizer Laden. Es wurde von Ã¼ber 20 verschiedenen HÃ¤nden berÃ¼hrt!',
                        co2: '0.3 kg COâ‚‚',
                        hint: 'Am Ende der Reise â€“ dort wo du lebst!'
                    }
                ],
                totalCO2: '10.7 kg COâ‚‚',
                totalDistance: '~15.000 km',
                funFact: 'Ein durchschnittliches T-Shirt reist weiter als die meisten Menschen in einem Jahr!'
            },
            smartphone: {
                name: 'Smartphone',
                icon: 'ğŸ“±',
                color: '#8B5CF6',
                gradient: 'from-purple-500 to-purple-600',
                totalSteps: 6,
                questions: [
                    {
                        step: 1,
                        stepTitle: 'â›ï¸ Schritt 1: Rohstoffabbau',
                        question: 'Wo werden seltene Erden und Coltan fÃ¼r dein Smartphone abgebaut?',
                        options: [
                            { country: 'Kongo', flag: 'ğŸ‡¨ğŸ‡©', correct: true },
                            { country: 'GrÃ¶nland', flag: 'ğŸ‡¬ğŸ‡±', correct: false },
                            { country: 'Island', flag: 'ğŸ‡®ğŸ‡¸', correct: false },
                            { country: 'Neuseeland', flag: 'ğŸ‡³ğŸ‡¿', correct: false }
                        ],
                        correctAnswer: 'Kongo',
                        fact: 'Der Kongo besitzt 80% der weltweiten Coltan-Reserven! Ãœber 60 verschiedene Materialien werden fÃ¼r ein Smartphone benÃ¶tigt.',
                        co2: '15 kg COâ‚‚',
                        hint: 'Ein zentralafrikanisches Land mit reichen BodenschÃ¤tzen.'
                    },
                    {
                        step: 2,
                        stepTitle: 'ğŸ’¾ Schritt 2: Chip-Produktion',
                        question: 'Wo werden die komplexen Mikrochips hergestellt?',
                        options: [
                            { country: 'Taiwan', flag: 'ğŸ‡¹ğŸ‡¼', correct: true },
                            { country: 'Portugal', flag: 'ğŸ‡µğŸ‡¹', correct: false },
                            { country: 'Ã„gypten', flag: 'ğŸ‡ªğŸ‡¬', correct: false },
                            { country: 'Peru', flag: 'ğŸ‡µğŸ‡ª', correct: false }
                        ],
                        correctAnswer: 'Taiwan',
                        fact: 'Taiwan produziert Ã¼ber 60% der weltweiten Mikrochips! Eine einzige Chip-Fabrik kostet mehrere Milliarden Dollar zu bauen.',
                        co2: '25 kg COâ‚‚',
                        hint: 'Eine Insel vor der KÃ¼ste Chinas, WeltmarktfÃ¼hrer in der Halbleiterproduktion.'
                    },
                    {
                        step: 3,
                        stepTitle: 'ğŸ“± Schritt 3: Display-Herstellung',
                        question: 'Wo werden die hochauflÃ¶senden Displays produziert?',
                        options: [
                            { country: 'SÃ¼dkorea', flag: 'ğŸ‡°ğŸ‡·', correct: true },
                            { country: 'Polen', flag: 'ğŸ‡µğŸ‡±', correct: false },
                            { country: 'TÃ¼rkei', flag: 'ğŸ‡¹ğŸ‡·', correct: false },
                            { country: 'Chile', flag: 'ğŸ‡¨ğŸ‡±', correct: false }
                        ],
                        correctAnswer: 'SÃ¼dkorea',
                        fact: 'SÃ¼dkorea und Japan sind fÃ¼hrend in der Display-Technologie. Ein modernes Display hat mehr Pixel als das menschliche Auge unterscheiden kann!',
                        co2: '12 kg COâ‚‚',
                        hint: 'Bekannt fÃ¼r Technologie-Giganten wie Samsung und LG.'
                    },
                    {
                        step: 4,
                        stepTitle: 'ğŸ”§ Schritt 4: Zusammenbau',
                        question: 'Wo werden die Smartphones zusammengesetzt?',
                        options: [
                            { country: 'China', flag: 'ğŸ‡¨ğŸ‡³', correct: true },
                            { country: 'Finnland', flag: 'ğŸ‡«ğŸ‡®', correct: false },
                            { country: 'Spanien', flag: 'ğŸ‡ªğŸ‡¸', correct: false },
                            { country: 'SÃ¼dafrika', flag: 'ğŸ‡¿ğŸ‡¦', correct: false }
                        ],
                        correctAnswer: 'China',
                        fact: 'In riesigen Fabriken in Shenzhen werden tÃ¤glich Ã¼ber 500.000 Smartphones produziert! Die Arbeiter*innen setzen hunderte Einzelteile zusammen.',
                        co2: '8 kg COâ‚‚',
                        hint: 'Die â€Werkbank der Welt" â€“ auch Shenzhen genannt, die Tech-Hauptstadt.'
                    },
                    {
                        step: 5,
                        stepTitle: 'ğŸ“¦ Schritt 5: Verpackung & Transport',
                        question: 'Wie wird dein neues Smartphone in die Schweiz transportiert?',
                        options: [
                            { country: 'Luftfracht', flag: 'âœˆï¸', correct: true },
                            { country: 'Schiff', flag: 'ğŸš¢', correct: false },
                            { country: 'Zug', flag: 'ğŸš‚', correct: false },
                            { country: 'Auto', flag: 'ğŸš—', correct: false }
                        ],
                        correctAnswer: 'Luftfracht',
                        fact: 'Neue Smartphones werden oft per Flugzeug transportiert, um schnell in den LÃ¤den zu sein. Das ist schnell, aber sehr COâ‚‚-intensiv!',
                        co2: '7 kg COâ‚‚',
                        hint: 'Der schnellste, aber umweltschÃ¤dlichste Transportweg.'
                    },
                    {
                        step: 6,
                        stepTitle: 'ğŸ›ï¸ Schritt 6: Im Laden',
                        question: 'Wo kaufst du dein Smartphone?',
                        options: [
                            { country: 'ElektronikgeschÃ¤ft CH', flag: 'ğŸ‡¨ğŸ‡­', correct: true },
                            { country: 'Direkt aus China', flag: 'ğŸ‡¨ğŸ‡³', correct: false },
                            { country: 'Vom Flughafen', flag: 'âœˆï¸', correct: false },
                            { country: 'Aus Taiwan', flag: 'ğŸ‡¹ğŸ‡¼', correct: false }
                        ],
                        correctAnswer: 'ElektronikgeschÃ¤ft CH',
                        fact: 'Nach einer Reise von ca. 20.000 km und Teilen aus Ã¼ber 10 verschiedenen LÃ¤ndern liegt dein Smartphone endlich im Schweizer Laden!',
                        co2: '1 kg COâ‚‚',
                        hint: 'Der letzte Stopp der Reise in deinem Heimatland.'
                    }
                ],
                totalCO2: '68 kg COâ‚‚',
                totalDistance: '~20.000 km',
                funFact: 'Ein Smartphone enthÃ¤lt mehr Rechenleistung als die Computer, die Apollo 11 zum Mond gebracht haben!'
            },
            coffee: {
                name: 'Kaffee',
                icon: 'â˜•',
                color: '#D97706',
                gradient: 'from-amber-600 to-amber-700',
                totalSteps: 5,
                questions: [
                    {
                        step: 1,
                        stepTitle: 'ğŸŒ± Schritt 1: Anbau',
                        question: 'Welches Land ist der grÃ¶ÃŸte Kaffeeproduzent der Welt?',
                        options: [
                            { country: 'Brasilien', flag: 'ğŸ‡§ğŸ‡·', correct: true },
                            { country: 'Schweiz', flag: 'ğŸ‡¨ğŸ‡­', correct: false },
                            { country: 'Russland', flag: 'ğŸ‡·ğŸ‡º', correct: false },
                            { country: 'Kanada', flag: 'ğŸ‡¨ğŸ‡¦', correct: false }
                        ],
                        correctAnswer: 'Brasilien',
                        fact: 'Brasilien produziert etwa ein Drittel des weltweiten Kaffees! Die Kaffeebohnen wachsen an StrÃ¤uchern in tropischen Regionen.',
                        co2: '0.5 kg COâ‚‚',
                        hint: 'Das grÃ¶ÃŸte Land in SÃ¼damerika.'
                    },
                    {
                        step: 2,
                        stepTitle: 'ğŸŒ¾ Schritt 2: Ernte',
                        question: 'Wo wird der hochwertigste Arabica-Kaffee traditionell geerntet?',
                        options: [
                            { country: 'Ã„thiopien', flag: 'ğŸ‡ªğŸ‡¹', correct: true },
                            { country: 'Schweden', flag: 'ğŸ‡¸ğŸ‡ª', correct: false },
                            { country: 'Japan', flag: 'ğŸ‡¯ğŸ‡µ', correct: false },
                            { country: 'Frankreich', flag: 'ğŸ‡«ğŸ‡·', correct: false }
                        ],
                        correctAnswer: 'Ã„thiopien',
                        fact: 'Ã„thiopien ist die GeburtsstÃ¤tte des Kaffees! Hier wÃ¤chst Kaffee noch wild im Hochland. Die Ernte erfolgt oft von Hand.',
                        co2: '0.3 kg COâ‚‚',
                        hint: 'Ein ostafrikanisches Hochland â€“ die Heimat des Kaffees.'
                    },
                    {
                        step: 3,
                        stepTitle: 'ğŸš¢ Schritt 3: Export',
                        question: 'Wie reisen die grÃ¼nen Kaffeebohnen nach Europa?',
                        options: [
                            { country: 'Containerschiff', flag: 'ğŸš¢', correct: true },
                            { country: 'Flugzeug', flag: 'âœˆï¸', correct: false },
                            { country: 'U-Boot', flag: 'ğŸ¤¿', correct: false },
                            { country: 'Drohne', flag: 'ğŸš', correct: false }
                        ],
                        correctAnswer: 'Containerschiff',
                        fact: 'Die grÃ¼nen Kaffeebohnen reisen in groÃŸen SÃ¤cken per Schiff nach Europa. Die Reise kann 4-8 Wochen dauern!',
                        co2: '0.4 kg COâ‚‚',
                        hint: 'Der klassische Weg fÃ¼r Rohstoffe Ã¼ber den Ozean.'
                    },
                    {
                        step: 4,
                        stepTitle: 'ğŸ”¥ Schritt 4: RÃ¶stung',
                        question: 'In welchem Land wird der Kaffee fÃ¼r Europa oft gerÃ¶stet?',
                        options: [
                            { country: 'Deutschland', flag: 'ğŸ‡©ğŸ‡ª', correct: true },
                            { country: 'Thailand', flag: 'ğŸ‡¹ğŸ‡­', correct: false },
                            { country: 'Chile', flag: 'ğŸ‡¨ğŸ‡±', correct: false },
                            { country: 'Indien', flag: 'ğŸ‡®ğŸ‡³', correct: false }
                        ],
                        correctAnswer: 'Deutschland',
                        fact: 'Deutschland ist Europas grÃ¶ÃŸter KaffeerÃ¶ster! Beim RÃ¶sten entwickelt sich erst das typische Kaffeearoma und die braune Farbe.',
                        co2: '0.6 kg COâ‚‚',
                        hint: 'Europas grÃ¶ÃŸte Wirtschaft, bekannt fÃ¼r QualitÃ¤t und PrÃ¤zision.'
                    },
                    {
                        step: 5,
                        stepTitle: 'â˜• Schritt 5: In deiner Tasse',
                        question: 'Wo genieÃŸt du deinen Kaffee?',
                        options: [
                            { country: 'Zuhause in der Schweiz', flag: 'ğŸ‡¨ğŸ‡­', correct: true },
                            { country: 'In Brasilien', flag: 'ğŸ‡§ğŸ‡·', correct: false },
                            { country: 'In Ã„thiopien', flag: 'ğŸ‡ªğŸ‡¹', correct: false },
                            { country: 'Auf dem Schiff', flag: 'ğŸš¢', correct: false }
                        ],
                        correctAnswer: 'Zuhause in der Schweiz',
                        fact: 'Nach seiner langen Reise kannst du endlich deinen Kaffee genieÃŸen! FÃ¼r eine Tasse werden etwa 140 Liter Wasser benÃ¶tigt (Anbau inklusive).',
                        co2: '0.1 kg COâ‚‚',
                        hint: 'Da wo du jetzt sitzt!'
                    }
                ],
                totalCO2: '1.9 kg COâ‚‚ pro kg',
                totalDistance: '~10.000 km',
                funFact: 'Kaffee ist nach ErdÃ¶l das zweitwertvollste Handelsgut der Welt!'
            },
            sneakers: {
                name: 'Sneakers',
                icon: 'ğŸ‘Ÿ',
                color: '#EF4444',
                gradient: 'from-red-500 to-red-600',
                totalSteps: 6,
                questions: [
                    {
                        step: 1,
                        stepTitle: 'ğŸŒ³ Schritt 1: Naturkautschuk',
                        question: 'Wo wird der Naturkautschuk fÃ¼r die Schuhsohlen gewonnen?',
                        options: [
                            { country: 'Malaysia', flag: 'ğŸ‡²ğŸ‡¾', correct: true },
                            { country: 'Ã–sterreich', flag: 'ğŸ‡¦ğŸ‡¹', correct: false },
                            { country: 'Polen', flag: 'ğŸ‡µğŸ‡±', correct: false },
                            { country: 'Irland', flag: 'ğŸ‡®ğŸ‡ª', correct: false }
                        ],
                        correctAnswer: 'Malaysia',
                        fact: 'Malaysia ist einer der grÃ¶ÃŸten Kautschuk-Produzenten! Kautschuk wird vom Gummibaum gewonnen und macht die Sohlen flexibel.',
                        co2: '3.2 kg COâ‚‚',
                        hint: 'Ein sÃ¼dostasiatisches Land mit tropischem Klima â€“ ideal fÃ¼r GummibÃ¤ume.'
                    },
                    {
                        step: 2,
                        stepTitle: 'ğŸ­ Schritt 2: Material-Verarbeitung',
                        question: 'Wo werden die synthetischen Materialien fÃ¼r Sneakers hergestellt?',
                        options: [
                            { country: 'China', flag: 'ğŸ‡¨ğŸ‡³', correct: true },
                            { country: 'Belgien', flag: 'ğŸ‡§ğŸ‡ª', correct: false },
                            { country: 'Neuseeland', flag: 'ğŸ‡³ğŸ‡¿', correct: false },
                            { country: 'Kenia', flag: 'ğŸ‡°ğŸ‡ª', correct: false }
                        ],
                        correctAnswer: 'China',
                        fact: 'China produziert die meisten synthetischen Materialien. Gummi wird vulkanisiert, Stoffe gewebt und Kunststoffe geformt.',
                        co2: '5.8 kg COâ‚‚',
                        hint: 'Die weltgrÃ¶ÃŸte Produktionsnation fÃ¼r Materialien aller Art.'
                    },
                    {
                        step: 3,
                        stepTitle: 'ğŸ‘Ÿ Schritt 3: Schuh-Produktion',
                        question: 'In welchem Land werden die meisten Sportschuhe zusammengebaut?',
                        options: [
                            { country: 'Vietnam', flag: 'ğŸ‡»ğŸ‡³', correct: true },
                            { country: 'DÃ¤nemark', flag: 'ğŸ‡©ğŸ‡°', correct: false },
                            { country: 'Marokko', flag: 'ğŸ‡²ğŸ‡¦', correct: false },
                            { country: 'Argentinien', flag: 'ğŸ‡¦ğŸ‡·', correct: false }
                        ],
                        correctAnswer: 'Vietnam',
                        fact: 'Vietnam produziert fast ein Drittel aller Schuhe weltweit! Ein Paar Sneakers durchlÃ¤uft Ã¼ber 360 verschiedene Arbeitsschritte.',
                        co2: '4.5 kg COâ‚‚',
                        hint: 'Ein sÃ¼dostasiatisches Land, Nachbar von China, wichtiger Produktionsstandort.'
                    },
                    {
                        step: 4,
                        stepTitle: 'âœ“ Schritt 4: QualitÃ¤tskontrolle',
                        question: 'Wo werden die fertigen Schuhe geprÃ¼ft und verpackt?',
                        options: [
                            { country: 'Vietnam', flag: 'ğŸ‡»ğŸ‡³', correct: true },
                            { country: 'Italien', flag: 'ğŸ‡®ğŸ‡¹', correct: false },
                            { country: 'USA', flag: 'ğŸ‡ºğŸ‡¸', correct: false },
                            { country: 'Schweiz', flag: 'ğŸ‡¨ğŸ‡­', correct: false }
                        ],
                        correctAnswer: 'Vietnam',
                        fact: 'Jeder Schuh wird geprÃ¼ft, ob er den Standards entspricht. Dann werden sie verpackt und fÃ¼r den Export vorbereitet.',
                        co2: '0.8 kg COâ‚‚',
                        hint: 'Im gleichen Land wie die Produktion â€“ effizienter Transport.'
                    },
                    {
                        step: 5,
                        stepTitle: 'ğŸš¢ Schritt 5: Seefracht',
                        question: 'Wie gelangen deine Sneakers nach Europa?',
                        options: [
                            { country: 'Containerschiff', flag: 'ğŸš¢', correct: true },
                            { country: 'Flugzeug', flag: 'âœˆï¸', correct: false },
                            { country: 'Rakete', flag: 'ğŸš€', correct: false },
                            { country: 'Zu FuÃŸ', flag: 'ğŸ‘£', correct: false }
                        ],
                        correctAnswer: 'Containerschiff',
                        fact: 'Die Sneakers reisen etwa 6-8 Wochen in Containern Ã¼ber den Pazifik und durch den Suezkanal nach Europa.',
                        co2: '1.2 kg COâ‚‚',
                        hint: 'Die gÃ¼nstigste Methode fÃ¼r schwere GÃ¼ter Ã¼ber lange Distanzen.'
                    },
                    {
                        step: 6,
                        stepTitle: 'ğŸª Schritt 6: Im SportgeschÃ¤ft',
                        question: 'Wo stehen deine Sneakers schlieÃŸlich im Regal?',
                        options: [
                            { country: 'SportgeschÃ¤ft Schweiz', flag: 'ğŸ‡¨ğŸ‡­', correct: true },
                            { country: 'Fabrik Vietnam', flag: 'ğŸ‡»ğŸ‡³', correct: false },
                            { country: 'Hafen Hamburg', flag: 'âš“', correct: false },
                            { country: 'Online-Lager China', flag: 'ğŸ“¦', correct: false }
                        ],
                        correctAnswer: 'SportgeschÃ¤ft Schweiz',
                        fact: 'Nach 18.000 km und Ã¼ber 50 verschiedenen HÃ¤nden stehen deine Sneakers endlich im Schweizer SportgeschÃ¤ft!',
                        co2: '0.5 kg COâ‚‚',
                        hint: 'Am Ende der langen Reise â€“ in deiner Heimat!'
                    }
                ],
                totalCO2: '16 kg COâ‚‚',
                totalDistance: '~18.000 km',
                funFact: 'Die globale Schuhindustrie produziert jÃ¤hrlich Ã¼ber 24 Milliarden Paar Schuhe!'
            }
        };

        function renderMenu() {
            return `
                <div class="container mx-auto px-4 py-8 slide-in">
                    <div class="max-w-4xl mx-auto text-center">
                        <div class="text-6xl mb-6">ğŸŒ</div>
                        <h1 class="text-5xl font-bold text-gray-800 mb-4">
                            Die Supply Chain entdecken
                        </h1>
                        <p class="text-xl text-gray-600 mb-8">
                            Folge deinen Alltagsprodukten auf ihrer Weltreise!
                        </p>
                        
                        <div class="bg-white rounded-xl p-6 shadow-lg mb-8">
                            <h2 class="text-2xl font-bold mb-4 text-gray-800">ğŸ“‹ Spielregeln</h2>
                            <div class="grid md:grid-cols-3 gap-4 text-left">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <div class="text-3xl mb-2">1ï¸âƒ£</div>
                                    <p class="font-semibold mb-1">WÃ¤hle ein Produkt</p>
                                    <p class="text-sm text-gray-600">T-Shirt, Smartphone, Kaffee oder Sneakers</p>
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <div class="text-3xl mb-2">2ï¸âƒ£</div>
                                    <p class="font-semibold mb-1">Beantworte Fragen</p>
                                    <p class="text-sm text-gray-600">Folge der Supply Chain Schritt fÃ¼r Schritt</p>
                                </div>
                                <div class="bg-purple-50 p-4 rounded-lg">
                                    <div class="text-3xl mb-2">3ï¸âƒ£</div>
                                    <p class="font-semibold mb-1">Lerne & Sammle</p>
                                    <p class="text-sm text-gray-600">100 Punkte pro richtiger Antwort!</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-4 mb-8">
                            <p class="text-lg font-semibold text-gray-800 flex items-center justify-center gap-2 flex-wrap">
                                <span>â¤ï¸</span>
                                <span>Leben: ${gameState.lives}</span>
                                <span>|</span>
                                <span>â­</span>
                                <span>Punkte: ${gameState.score}</span>
                            </p>
                        </div>

                        <h2 class="text-2xl font-bold mb-6 text-gray-800">WÃ¤hle ein Produkt:</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${Object.entries(products).map(([key, product]) => `
                                <button
                                    onclick="startProduct('${key}')"
                                    class="bg-gradient-to-br ${product.gradient} p-8 rounded-xl text-white font-bold text-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all"
                                >
                                    <div class="text-6xl mb-3">${product.icon}</div>
                                    <div class="text-2xl mb-2">${product.name}</div>
                                    <div class="text-sm opacity-90">${product.totalSteps} Schritte</div>
                                    <div class="text-sm opacity-90 mt-2">
                                        <div>ğŸŒ ${product.totalDistance}</div>
                                        <div>ğŸ’¨ ${product.totalCO2}</div>
                                    </div>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderGame() {
            const product = products[gameState.currentProduct];
            const question = product.questions[gameState.currentStep];
            const progress = ((gameState.currentStep + 1) / product.questions.length) * 100;
            
            return `
                <div class="container mx-auto px-4 py-8 slide-in">
                    <div class="max-w-4xl mx-auto">
                        <!-- Header -->
                        <div class="bg-white rounded-xl p-4 shadow-lg mb-6">
                            <div class="flex items-center justify-between flex-wrap gap-4">
                                <button onclick="backToMenu()" class="text-gray-600 hover:text-gray-800 flex items-center gap-2">
                                    <span>â†</span> ZurÃ¼ck
                                </button>
                                <div class="flex items-center gap-6">
                                    <div class="flex items-center gap-2">
                                        <span>â¤ï¸</span>
                                        <span class="font-bold text-red-500">${'â¤ï¸'.repeat(gameState.lives)}</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span>â­</span>
                                        <span class="font-bold text-yellow-600">${gameState.score} Punkte</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Product & Progress -->
                        <div class="bg-white rounded-xl p-6 shadow-lg mb-6">
                            <div class="flex items-center gap-4 mb-4">
                                <div class="text-5xl">${product.icon}</div>
                                <div class="flex-1">
                                    <h2 class="text-2xl font-bold text-gray-800">${product.name}</h2>
                                    <p class="text-gray-600">${question.stepTitle}</p>
                                </div>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="h-full bg-gradient-to-r ${product.gradient} transition-all duration-500 rounded-full flex items-center justify-end pr-2"
                                    style="width: ${progress}%">
                                    <span class="text-white text-xs font-bold">${Math.round(progress)}%</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">
                                Schritt ${gameState.currentStep + 1} von ${product.questions.length}
                            </p>
                        </div>

                        <!-- Question Card -->
                        <div class="bg-gradient-to-br ${product.gradient} rounded-xl p-8 shadow-lg mb-6 text-white">
                            <h3 class="text-3xl font-bold mb-6">${question.question}</h3>
                            
                            ${gameState.showHint ? `
                                <div class="bg-white bg-opacity-20 rounded-lg p-4 mb-4">
                                    <p class="text-sm">ğŸ’¡ <strong>Tipp:</strong> ${question.hint}</p>
                                    <p class="text-xs mt-2 opacity-75">(Du erhÃ¤ltst nur 75 Punkte statt 100)</p>
                                </div>
                            ` : `
                                <button onclick="showHint()" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm mb-4 transition-all">
                                    ğŸ’¡ Tipp anzeigen (-25 Punkte)
                                </button>
                            `}
                        </div>

                        <!-- Answer Options -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${question.options.map((option, idx) => `
                                <button
                                    onclick="selectAnswer('${option.country}')"
                                    class="option-card bg-white border-4 border-gray-300 hover:border-${product.color.slice(1)} rounded-xl p-6 text-left shadow-lg"
                                >
                                    <div class="flex items-center gap-4">
                                        <div class="text-5xl">${option.flag}</div>
                                        <div class="flex-1">
                                            <div class="text-xl font-bold text-gray-800">${option.country}</div>
                                        </div>
                                    </div>
                                </button>
                            `).join('')}
                        </div>

                        <!-- Info Box -->
                        <div class="mt-6 bg-blue-50 rounded-xl p-4 text-sm text-gray-700">
                            <p class="font-semibold mb-1">â„¹ï¸ Info zu diesem Schritt:</p>
                            <p>COâ‚‚-Ausstoss: <strong>${question.co2}</strong></p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderResult(isCorrect) {
            const product = products[gameState.currentProduct];
            const question = product.questions[gameState.currentStep];
            
            return `
                <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div class="bg-white rounded-3xl p-8 max-w-2xl w-full shadow-2xl ${isCorrect ? 'celebration' : ''}">
                        <div class="text-center">
                            <div class="text-8xl mb-4">${isCorrect ? 'ğŸ‰' : 'ğŸ˜…'}</div>
                            <h2 class="text-4xl font-bold mb-4 ${isCorrect ? 'text-green-600' : 'text-orange-600'}">
                                ${isCorrect ? 'Richtig!' : 'Leider falsch!'}
                            </h2>
                            
                            ${isCorrect ? `
                                <div class="text-3xl font-bold text-green-600 mb-4">
                                    +${gameState.usedHint ? '75' : '100'} Punkte!
                                </div>
                            ` : `
                                <div class="text-lg text-gray-600 mb-4">
                                    Die richtige Antwort war: <strong>${question.correctAnswer}</strong>
                                </div>
                                <div class="text-xl text-red-600 mb-4">
                                    -1 Leben â¤ï¸
                                </div>
                            `}

                            <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 mb-6 text-left">
                                <p class="text-lg font-semibold mb-3 text-gray-800">ğŸ’¡ Wusstest du?</p>
                                <p class="text-gray-700 leading-relaxed">${question.fact}</p>
                                <div class="mt-4 pt-4 border-t border-gray-300">
                                    <p class="text-sm text-gray-600">
                                        <span class="font-semibold">COâ‚‚-Ausstoss in diesem Schritt:</span> ${question.co2}
                                    </p>
                                </div>
                            </div>

                            ${gameState.currentStep < product.questions.length - 1 ? `
                                <button
                                    onclick="nextQuestion()"
                                    class="w-full py-4 px-8 bg-gradient-to-r ${product.gradient} hover:opacity-90 text-white font-bold text-xl rounded-xl shadow-lg transition-all"
                                >
                                    Weiter zum nÃ¤chsten Schritt â†’
                                </button>
                            ` : `
                                <button
                                    onclick="finishProduct()"
                                    class="w-full py-4 px-8 bg-gradient-to-r ${product.gradient} hover:opacity-90 text-white font-bold text-xl rounded-xl shadow-lg transition-all"
                                >
                                    Reise abschlieÃŸen ğŸŠ
                                </button>
                            `}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFinal() {
            const product = products[gameState.currentProduct];
            const totalQuestions = product.questions.length;
            const percentage = Math.round((gameState.correctInRound / totalQuestions) * 100);
            
            return `
                <div class="container mx-auto px-4 py-8 slide-in">
                    <div class="max-w-3xl mx-auto">
                        <div class="bg-white rounded-3xl p-12 shadow-2xl text-center">
                            <div class="text-7xl mb-6 celebration">ğŸ†</div>
                            <h2 class="text-4xl font-bold text-gray-800 mb-4">
                                ${product.icon} ${product.name} abgeschlossen!
                            </h2>
                            
                            <div class="bg-gradient-to-br ${product.gradient} text-white rounded-2xl p-8 mb-8">
                                <div class="grid grid-cols-3 gap-4 mb-6">
                                    <div>
                                        <p class="text-sm opacity-90 mb-1">Punkte</p>
                                        <p class="text-4xl font-bold">${gameState.score}</p>
                                    </div>
                                    <div>
                                        <p class="text-sm opacity-90 mb-1">Richtig</p>
                                        <p class="text-4xl font-bold">${gameState.correctInRound}/${totalQuestions}</p>
                                    </div>
                                    <div>
                                        <p class="text-sm opacity-90 mb-1">Genauigkeit</p>
                                        <p class="text-4xl font-bold">${percentage}%</p>
                                    </div>
                                </div>
                                <div class="border-t border-white border-opacity-30 pt-6">
                                    <div class="grid grid-cols-2 gap-4 text-left">
                                        <div>
                                            <p class="text-sm opacity-90">Gesamte Distanz</p>
                                            <p class="text-2xl font-bold">${product.totalDistance}</p>
                                        </div>
                                        <div>
                                            <p class="text-sm opacity-90">COâ‚‚-Fussabdruck</p>
                                            <p class="text-2xl font-bold">${product.totalCO2}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-6">
                                <p class="text-lg font-semibold mb-2 text-gray-800">âœ¨ ${product.funFact}</p>
                            </div>

                            <div class="bg-green-50 rounded-xl p-6 mb-8 text-left">
                                <p class="font-bold text-gray-800 mb-3 text-center">ğŸŒ± Was kannst du tun?</p>
                                <ul class="space-y-2 text-gray-700 text-sm">
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-600">âœ“</span>
                                        <span>Kaufe lokale und nachhaltig produzierte Produkte, wenn mÃ¶glich</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-600">âœ“</span>
                                        <span>Repariere Dinge, statt sie wegzuwerfen</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-600">âœ“</span>
                                        <span>Achte auf Fair-Trade und Bio-Siegel</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-600">âœ“</span>
                                        <span>Kaufe nur, was du wirklich brauchst</span>
                                    </li>
                                </ul>
                            </div>

                            ${percentage === 100 ? `
                                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-6 mb-6">
                                    <p class="text-2xl font-bold text-orange-600 mb-2">ğŸŒŸ Perfekt!</p>
                                    <p class="text-gray-700">Du bist ein Globalisierungs-Experte!</p>
                                </div>
                            ` : percentage >= 66 ? `
                                <div class="bg-blue-50 rounded-xl p-6 mb-6">
                                    <p class="text-2xl font-bold text-blue-600 mb-2">ğŸ‘ Super!</p>
                                    <p class="text-gray-700">Sehr gut! Du kennst dich schon gut aus!</p>
                                </div>
                            ` : `
                                <div class="bg-purple-50 rounded-xl p-6 mb-6">
                                    <p class="text-2xl font-bold text-purple-600 mb-2">ğŸ’ª Weiter so!</p>
                                    <p class="text-gray-700">Guter Start! Probiere weitere Produkte aus!</p>
                                </div>
                            `}

                            <button
                                onclick="backToMenu()"
                                class="w-full py-4 px-8 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold text-xl rounded-xl shadow-lg transition-all"
                            >
                                NÃ¤chstes Produkt erkunden ğŸš€
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function startProduct(productKey) {
            gameState.currentProduct = productKey;
            gameState.currentStep = 0;
            gameState.gameMode = 'playing';
            gameState.showHint = false;
            gameState.usedHint = false;
            gameState.correctInRound = 0;
            render();
        }

        function selectAnswer(answer) {
            const product = products[gameState.currentProduct];
            const question = product.questions[gameState.currentStep];
            const isCorrect = answer === question.correctAnswer;
            
            if (isCorrect) {
                gameState.score += gameState.usedHint ? 75 : 100;
                gameState.correctInRound++;
            } else {
                gameState.lives--;
                if (gameState.lives <= 0) {
                    alert('Game Over! ğŸ˜¢ Du hast keine Leben mehr.\n\nDein finaler Score: ' + gameState.score + ' Punkte');
                    resetGame();
                    return;
                }
            }
            
            gameState.gameMode = 'result';
            gameState.lastAnswerCorrect = isCorrect;
            render();
        }

        function showHint() {
            gameState.showHint = true;
            gameState.usedHint = true;
            render();
        }

        function nextQuestion() {
            gameState.currentStep++;
            gameState.gameMode = 'playing';
            gameState.showHint = false;
            gameState.usedHint = false;
            render();
        }

        function finishProduct() {
            gameState.gameMode = 'final';
            render();
        }

        function backToMenu() {
            gameState.gameMode = 'menu';
            gameState.currentProduct = null;
            render();
        }

        function resetGame() {
            gameState = {
                currentProduct: null,
                currentStep: 0,
                score: 0,
                lives: 3,
                correctInRound: 0,
                gameMode: 'menu',
                showHint: false,
                usedHint: false
            };
            render();
        }

        function render() {
            const app = document.getElementById('app');
            
            if (gameState.gameMode === 'menu') {
                app.innerHTML = renderMenu();
            } else if (gameState.gameMode === 'playing') {
                app.innerHTML = renderGame();
            } else if (gameState.gameMode === 'result') {
                const gameHTML = renderGame();
                const resultHTML = renderResult(gameState.lastAnswerCorrect);
                app.innerHTML = gameHTML + resultHTML;
            } else if (gameState.gameMode === 'final') {
                app.innerHTML = renderFinal();
            }
        }

        // Initial render
        render();
    </script>
</body>
</html>
